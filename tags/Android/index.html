<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>标签: Android - 遇寻笔记</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="遇寻笔记"><meta name="msapplication-TileImage" content="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="遇寻笔记"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:type" content="website"><meta property="og:title" content="遇寻笔记"><meta property="og:url" content="https://eucham.me/"><meta property="og:site_name" content="遇寻笔记"><meta property="og:description" content="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://eucham.me/img/og_image.png"><meta property="article:author" content="遇寻"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://eucham.me"},"headline":"遇寻笔记","image":["https://eucham.me/img/og_image.png"],"author":{"@type":"Person","name":"遇寻"},"publisher":{"@type":"Organization","name":"遇寻笔记","logo":{"@type":"ImageObject","url":"https://eucham.me/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"}},"description":"No. I&#39;ll bring me back a souvenir."}</script><link rel="icon" href="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?7d79380bb26079f6dd33da78e83cf2ab";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="遇寻笔记" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/categories/AI">AI</a><a class="navbar-item" href="/categories/Kubernetes">Kubernetes</a><a class="navbar-item" href="/categories/Openstack">Openstack</a><a class="navbar-item" href="/categories/Docker">Container</a><a class="navbar-item" href="/categories/Golang">Golang</a><a class="navbar-item" href="/categories/Rust">Rust</a><a class="navbar-item" href="/about.html">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/eucham"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/eucham"><i class="fab fa-linkedin"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">标签</a></li><li class="is-active"><a href="#" aria-current="page">Android</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-28T05:21:18.000Z" title="6/28/2018, 1:21:18 PM">2018-06-28</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:07:20.040Z" title="4/21/2022, 12:07:20 AM">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">13 分钟读完 (大约1988个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/28/f5d38d5963f5.html">从Android源代码来看WiFi直连</a></h1><div class="content">什么是WiFi直连通俗点说，它可以不通过网络，也不通过蓝牙，只要两台设备都支持WiFi直连，打开WiFi，不用连接任何WiFi，就可以进行信息的传输（请忽略下面两张图中的WiFi连接标志，因为其与WiFi的连接与否无关，打开就可以）。在Android的设置-&gt;网络与互联网-&gt;WLAN-&</div><a class="article-more button is-small is-size-7" href="/2018/06/28/f5d38d5963f5.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-20T01:53:20.000Z" title="6/20/2018, 9:53:20 AM">2018-06-20</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:07:38.439Z" title="4/21/2022, 12:07:38 AM">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">4 分钟读完 (大约556个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/20/3f2e57fe4b1a.html">Android8.1原生系统网络感叹号消除</a></h1><div class="content">原生系统Android8.1上，WiFi上出现感叹号，此时WiFi可正常访问。原因这是Android 5.0引入的网络评估机制：就是当你连上网络后，会给目标产生204响应的服务器发送给一个请求，如果服务器返回的是状态码为204的响应，那么就被认为网络可以访问；否则，如返回的是其他状态码，那么将被视为</div><a class="article-more button is-small is-size-7" href="/2018/06/20/3f2e57fe4b1a.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-16T00:48:39.000Z" title="6/16/2018, 8:48:39 AM">2018-06-16</time>发表</span><span class="level-item"><time dateTime="2022-01-01T07:13:18.153Z" title="1/1/2022, 3:13:18 PM">2022-01-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">21 分钟读完 (大约3079个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/16/98abde6e451b.html">libstreaming局域网构建Android相机实时流媒体流程分析</a></h1><div class="content">这是一个涉及东西比较多的第三方库，里面的一些代码细节有点让人云里雾里。如果真的是这样，那说明了解的东西还太少，真正的去了解这些详细的东西，起码得知道相应的概念，如RTSP、RTP、H264、H264打包。我觉得首要的事是将大体的逻辑打通，然后再慢慢深入代码的细节，了解相关的技术与知识。奈何，这部分在</div><a class="article-more button is-small is-size-7" href="/2018/06/16/98abde6e451b.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T22:03:07.000Z" title="4/29/2018, 6:03:07 AM">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:07:53.821Z" title="4/21/2022, 12:07:53 AM">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">3 分钟读完 (大约391个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/a88c4e43cd3d.html">System.loadLibrary()进程不断重启</a></h1><div class="content">解决这个问题花费了最近很长的一段时间，所以觉得非常有写出来分享的必要。其实这个问题，主要还是需要考虑细心！因为说到底是权限的问题，但是又与平常所说的权限问题有很大的差别。网上遇到的一些关于加载so库的问题都是什么连接问题、什么又找不到了的之类，都是可以正常吐出Exception的情况，这个连个Exc</div><a class="article-more button is-small is-size-7" href="/2018/04/29/a88c4e43cd3d.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T19:58:54.000Z" title="4/29/2018, 3:58:54 AM">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2022-01-01T07:45:42.003Z" title="1/1/2022, 3:45:42 PM">2022-01-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">6 分钟读完 (大约828个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/779d4e5acb73.html">EventBus3的基本使用指南</a></h1><div class="content">使用EventBus可以省略繁杂的Handler，效果也是类似的，使用方法也很简单。这里从官网上面做一个小小的总结，可以看得更全面一些。入门贴官方教程定义事件事件就是一个普通的Java类，POJO就好。public class MessageEvent {    public final Strin</div><a class="article-more button is-small is-size-7" href="/2018/04/29/779d4e5acb73.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-28T18:55:06.000Z" title="4/29/2018, 2:55:06 AM">2018-04-29</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:53.729Z" title="2/9/2021, 11:03:53 AM">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">1 分钟读完 (大约214个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/29/1aa78a1af661.html">关于Bitmap相关的一些总结</a></h1><div class="content"><h3 id="如何从当前View获取到Bitmap"><a href="#如何从当前View获取到Bitmap" class="headerlink" title="如何从当前View获取到Bitmap"></a>如何从当前View获取到Bitmap</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v.setDrawingCacheEnabled(<span class="keyword">true</span>);</span><br><span class="line">v.buildDrawingCache();</span><br><span class="line">Bitmap bitmap = v.getDrawingCache();</span><br></pre></td></tr></table></figure>

<h3 id="如何从TextureView中获取Bitmap"><a href="#如何从TextureView中获取Bitmap" class="headerlink" title="如何从TextureView中获取Bitmap"></a>如何从TextureView中获取Bitmap</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mTextureView.getBitmap();</span><br></pre></td></tr></table></figure>

<h3 id="如何压缩Bitmap"><a href="#如何压缩Bitmap" class="headerlink" title="如何压缩Bitmap"></a>如何压缩Bitmap</h3><p>压缩成适配目标宽、高的Bitmap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * get a scaled bitmap from a file located in path, adjust to destWidth and destHeight</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> path the bitmap&#x27;s file location</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destWidth destination width</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destHeight destination height</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a scaled bitmap</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">getScaledBitmap</span><span class="params">(String path, <span class="keyword">int</span> destWidth, <span class="keyword">int</span> destHeight)</span></span>&#123;</span><br><span class="line">    BitmapFactory.Options options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">    options.inJustDecodeBounds = <span class="keyword">true</span>;</span><br><span class="line">    BitmapFactory.decodeFile(path, options);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> srcWidth = options.outWidth;</span><br><span class="line">    <span class="keyword">float</span> srcHeight = options.outHeight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> inSampleSize = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (srcHeight &gt; destHeight || srcWidth &gt; destWidth)&#123;</span><br><span class="line">        <span class="keyword">float</span> heightScale = srcHeight / destHeight;</span><br><span class="line">        <span class="keyword">float</span> widthScale = srcWidth / destWidth;</span><br><span class="line"></span><br><span class="line">        inSampleSize = Math.round(heightScale &gt; widthScale ? heightScale : widthScale);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">    options.inSampleSize = inSampleSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> BitmapFactory.decodeFile(path, options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="如何将Bitmap与byte-相互转换"><a href="#如何将Bitmap与byte-相互转换" class="headerlink" title="如何将Bitmap与byte[]相互转换"></a>如何将Bitmap与byte[]相互转换</h3><p>从Bitmap到byte[]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> bytes = bmp.getByteCount();</span><br><span class="line">ByteBuffer buf = ByteBuffer.allocate(bytes);</span><br><span class="line">bmp.copyPixelsToBuffer(buf);</span><br><span class="line"><span class="keyword">byte</span>[] byteArray = buf.array();</span><br></pre></td></tr></table></figure>
<p>从byte[]到Bitmap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bitmap stitchBmp = Bitmap.createBitmap(width, height, type);</span><br><span class="line">stitchBmp.copyPixelsFromBuffer(ByteBuffer.wrap(byteArray));</span><br><span class="line">imageView.setImageBitmap(stitchBmp);</span><br></pre></td></tr></table></figure>

<h3 id="缩略图相关"><a href="#缩略图相关" class="headerlink" title="缩略图相关"></a>缩略图相关</h3><p><a target="_blank" rel="noopener" href="http://jayfeng.com/2016/03/16/%E7%90%86%E8%A7%A3ThumbnailUtils/">理解ThumbnaiUtils</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-19T11:15:00.000Z" title="4/19/2018, 7:15:00 PM">2018-04-19</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:51.378Z" title="2/9/2021, 11:03:51 AM">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item">9 分钟读完 (大约1407个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/19/858b4c830e1e.html">安卓系统应用调试脚本</a></h1><div class="content"><blockquote>
<p>这是一个对之前写的脚本的记录档案，自己也看不太懂当时的写法了，羞愧。用一个 repo 放这些脚本代码感觉有些浪费，干脆整个文章记录曾经的那段历史吧！</p>
</blockquote>
<p>这代码的主要目的就是想少敲点命令，一步到位，做一个快男！</p>
<h2 id="说明-AndroidROMTools"><a href="#说明-AndroidROMTools" class="headerlink" title="说明 - AndroidROMTools"></a>说明 - AndroidROMTools</h2><p>Android run script tools for debugging system apps or frameworks. This was used by myself when debugging system apps or frameworks. In this project, module names was not given to avoid the project name, but the main structure was reminded.</p>
<p>此脚本主要分成一个入口与两个模块，详细的树状图如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── README.md</span><br><span class="line">├── btool</span><br><span class="line">├── modules</span><br><span class="line">│   ├── handleFramework.sh</span><br><span class="line">│   ├── handleXxxx.sh</span><br><span class="line">│   └── handleXxxxxx.sh</span><br><span class="line">└── utils</span><br><span class="line">    ├── handleSpecificTask.sh</span><br><span class="line">    ├── init.sh</span><br><span class="line">    ├── printOperationTip.sh</span><br><span class="line">    ├── tipWhenNotImplement.sh</span><br><span class="line">    └── tipWhenParametersError.sh</span><br><span class="line"></span><br><span class="line">2 directories, 10 files</span><br></pre></td></tr></table></figure>

<h2 id="入口"><a href="#入口" class="headerlink" title="入口"></a>入口</h2><p>名字叫 <code>btool</code>，为啥起这个怪名字，我也不知道。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> initialize variables</span></span><br><span class="line">var1=$1</span><br><span class="line">var2=$2</span><br><span class="line">var3=$3</span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line">MODULES_DIR=~/.PersonalTools/modules</span><br><span class="line"></span><br><span class="line">case $var1 in</span><br><span class="line">    &quot;init&quot; )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/init.sh</span><br><span class="line">        ;;</span><br><span class="line">    &quot;log&quot; )</span><br><span class="line">        adb logcat -b main \*:E | grep &quot;TAG&quot;</span><br><span class="line">        ;;</span><br><span class="line">    &quot;wxxxx&quot; )</span><br><span class="line">        $&#123;MODULES_DIR&#125;/handleXXXX.sh $var2 $var3</span><br><span class="line">        ;;</span><br><span class="line">    &quot;txxxx&quot; )</span><br><span class="line">        $&#123;MODULES_DIR&#125;/handlexxxxxx.sh $var2 $var3</span><br><span class="line">        #$&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;</span><br><span class="line">    &quot;txxxx&quot; )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;</span><br><span class="line">    &quot;mxxxx&quot;  )</span><br><span class="line">        $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh $var1</span><br><span class="line">        ;;    </span><br><span class="line">	*	) </span><br><span class="line"><span class="meta">		#</span><span class="bash"><span class="variable">$&#123;UTILS_DIR&#125;</span>/tipWhenParametersError.sh init xxxxxx *xxxxxx* *xxxxxx* *xxxxxx*</span></span><br><span class="line">        if [ &quot;$&#123;var1&#125;&quot; == &quot;&quot; ]; then</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxx *xxxx* *xxxxxx* *xxxxxx*</span><br><span class="line">        elif [ -f $&#123;MODULES_DIR&#125;/$var1.sh ]; then</span><br><span class="line">            #$&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxxxx *xxxxxx* *xxxxxx* *xxxxxx*</span><br><span class="line">            $&#123;MODULES_DIR&#125;/$var1.sh</span><br><span class="line">        else</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenParametersError.sh init xxxxxx *txxxxxx* *txxxxxx* *mxxxxxx*</span><br><span class="line">            $&#123;UTILS_DIR&#125;/tipWhenNotImplement.sh &quot;$&#123;var1&#125;&quot;</span><br><span class="line">        fi</span><br><span class="line">		;;</span><br><span class="line">esac</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h2 id="Utils"><a href="#Utils" class="headerlink" title="Utils"></a>Utils</h2><ul>
<li><p>初始化：<code>init.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">adb root</span><br><span class="line">adb wait-for-device remount</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印带颜色的字符：<code>printOperationTip.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">echo</span> -e <span class="string">&quot;\e[31;43m-----------------------------------------------------------\e[0m&quot;</span></span></span><br><span class="line">echo &quot;&quot;</span><br><span class="line">echo -e &quot;\e[31;47m\t&quot;$1&quot;\t\e[0m&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">echo</span> -e <span class="string">&quot;\e[31;43m-----------------------------------------------------------\e[0m&quot;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>模块未完成的告警提示：<code>tipWhenNotImplement.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line">echo -e &quot;\nModule &lt; \e[41m$1\e[0m \e[31m&gt;NOT IMPELEMNT!\e[0m\n&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数错误提示：<code>tipWhenParametersError.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">clear</span></span><br><span class="line">echo &quot;&quot;</span><br><span class="line">echo -e &quot;\e[31;42mOops! Please give me the \e[0m\e[1;5;40;31mcorrect\e[0m\e[31;42m parameters!!!\e[0m&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line"></span><br><span class="line">params=&quot;&quot;</span><br><span class="line">cnt=1;</span><br><span class="line">for i in $@;</span><br><span class="line">do</span><br><span class="line">	if [ $cnt != 1 ]; then</span><br><span class="line">		params=$params&quot;,\e[1;5;31;40m &quot;$i&quot; \e[0m&quot;</span><br><span class="line">	else</span><br><span class="line">		params=&quot;\e[1;5;31;40m &quot;$i&quot; \e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	cnt=$(($cnt+1))</span><br><span class="line">done</span><br><span class="line">if [  $cnt == 1 ]; then</span><br><span class="line">	params=&quot;\e[4;31mNONE\e[0m&quot;</span><br><span class="line">fi</span><br><span class="line">echo -e &quot;\e[33mavaliable parameters are :\e[0m&quot; $params&quot;\n&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>处理特定任务：<code>handleSpecificTask.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">OP_INDEX=$1</span><br><span class="line">PROJECT_SRC_DIR=$2</span><br><span class="line">APP_SRC_DIR=$3</span><br><span class="line">APP_OUT_DIR=$4</span><br><span class="line">APP_REMOTE_DIR=$5</span><br><span class="line">APP_PKG_NAME=$6</span><br><span class="line">PROJECT_LUNCH_IDX=$7</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash">statements</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	<span class="built_in">echo</span> <span class="variable">$i</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">done</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">for</span> compile SnapCamera APK <span class="keyword">in</span></span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">if</span> [ -f /tmp/btoollog ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">else</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;/tmp/btoollog not exists&quot;</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash">mkdir /tmp/btoollog</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">fi</span></span></span><br><span class="line"></span><br><span class="line">function compileModifiedSourceCode()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Compile&gt;&quot;</span></span></span><br><span class="line">	cd $&#123;PROJECT_SRC_DIR&#125;</span><br><span class="line">	pwd</span><br><span class="line">	source build/envsetup.sh</span><br><span class="line">	lunch $&#123;PROJECT_LUNCH_IDX&#125;</span><br><span class="line">	cd $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	pwd</span><br><span class="line">	mm</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function makeSureCloseCompletelyAndReopen()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to force-stop APK&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line">	echo -e &quot;\n\e[32m\ttry to stop app\e[0m&quot;</span><br><span class="line">	adb shell am force-stop $&#123;APP_PKG_NAME&#125;</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line"></span><br><span class="line">	echo -e &quot;\n\e[32m\ttry to start app\e[0m&quot;</span><br><span class="line">	adb shell am start -n $&#123;APP_PKG_NAME&#125;</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function pushCompiledAPK2Phone()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Push APK&gt;&quot;</span></span></span><br><span class="line">	cd $&#123;APP_OUT_DIR&#125;</span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">pwd</span></span></span><br><span class="line"><span class="meta">	#</span><span class="bash"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;APP_OUT_DIR&#125;</span>&quot;</span></span></span><br><span class="line">	adb push . $&#123;APP_REMOTE_DIR&#125;</span><br><span class="line"><span class="meta">	#</span><span class="bash">adb push oat/arm64/<span class="variable">$appname</span>.odex /system/priv-app/<span class="variable">$appname</span>/oat/arm64/<span class="variable">$appname</span>.odex</span></span><br><span class="line">	if [ $? -eq 0 ]; then</span><br><span class="line">		echo -e &quot;\n\e[32m\tpush app to phone successfully\e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function checkPushedFilesStatus()&#123;</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/printOperationTip.sh <span class="string">&quot;&lt;Prepare to Check Push Result&gt;&quot;</span></span></span><br><span class="line">	adb shell ls -l $&#123;APP_REMOTE_DIR&#125; $&#123;APP_REMOTE_DIR&#125;/oat/arm64/</span><br><span class="line">	if [ $? -eq 0 ]; then</span><br><span class="line">		echo -e &quot;\n\e[32m\tconnect to phone successfully\e[0m&quot;</span><br><span class="line">	fi</span><br><span class="line">	echo -e &quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;0&quot;  )</span><br><span class="line">	compileModifiedSourceCode</span><br><span class="line">	pushCompiledAPK2Phone</span><br><span class="line">	makeSureCloseCompletelyAndReopen</span><br><span class="line">	checkPushedFilesStatus</span><br><span class="line">	;;</span><br><span class="line">&quot;1&quot; )</span><br><span class="line">	compileModifiedSourceCode</span><br><span class="line">	;;</span><br><span class="line">&quot;2&quot; )</span><br><span class="line">	pushCompiledAPK2Phone</span><br><span class="line">	;;</span><br><span class="line">&quot;3&quot; )</span><br><span class="line">	makeSureCloseCompletelyAndReopen</span><br><span class="line">	;;</span><br><span class="line">&quot;4&quot;	)</span><br><span class="line">	checkPushedFilesStatus</span><br><span class="line">	;;</span><br><span class="line">&quot;subl&quot; )</span><br><span class="line">	subl $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	;;</span><br><span class="line">&quot;src&quot; )</span><br><span class="line">	echo $&#123;APP_SRC_DIR&#125;</span><br><span class="line">	;;</span><br><span class="line">* )</span><br><span class="line"><span class="meta">	$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh 0 1 2 3 4 subl src</span></span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 0 \e[0m\t : \e[33m1 -&gt; 2 -&gt; 3 -&gt; 4\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 1 \e[0m\t : \e[33mCompile Modified Source Code\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 2 \e[0m\t : \e[33mPush Compiled APK 2 Phone\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 3 \e[0m\t : \e[33mClose App\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m 4 \e[0m\t : \e[33mShow App Info\e[0m&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m subl \e[0m\t : \e[33mOpen App Src With Sublime Text\e[0m\n&quot;</span><br><span class="line">	echo -e &quot;\t\e[1;4;5;31;40m src \e[0m\t : \e[33mPrint SRC path\e[0m\n&quot;</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li><p>Android Framework 处理：<code>handleFramework.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">SRC_HOME=/home/ckt/work/xxxxxx/msm8909_go/LINUX/android/frameworks/base</span><br><span class="line">OUT_HOME=/home/ckt/work/xxxxxx/msm8909_go/LINUX/android/out/target/product/msm8909go/system/framework</span><br><span class="line"></span><br><span class="line">cd /home/ckt/work/xxxxxx/msm8909_go/LINUX/android/</span><br><span class="line"></span><br><span class="line">source build/envsetup.sh</span><br><span class="line">lunch 29</span><br><span class="line">make framework</span><br><span class="line">make snod</span><br><span class="line"></span><br><span class="line">adb push $&#123;OUT_HOME&#125;/arm/boot.oat /system/framework/arm/</span><br><span class="line">adb push $&#123;OUT_HOME&#125;/arm/boot.art /system/framework/arm/</span><br><span class="line"></span><br><span class="line">adb push $&#123;OUT_HOME&#125;/framework.jar /system/framework/</span><br><span class="line">adb push $&#123;OUT_HOME&#125;/framework-res.apk /system/framework/</span><br><span class="line"></span><br><span class="line">adb reboot bootloader</span><br></pre></td></tr></table></figure>
</li>
<li><p>桌面时钟：<code>handleXxxx.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">PROJECT_DIR=&quot;/home/ckt/work/android8&quot;</span><br><span class="line">PROJECT_SRC_DIR=$&#123;PROJECT_DIR&#125;</span><br><span class="line">PROJECT_OUT_DIR=$&#123;PROJECT_DIR&#125;/out/target/product/msm8953_64</span><br><span class="line">PROJECT_LUNCH_IDX=39</span><br><span class="line"></span><br><span class="line">DESKCLOCK_SRC_DIR=$&#123;PROJECT_SRC_DIR&#125;/packages/apps/DeskClock/</span><br><span class="line">DESKCLOCK_OUT_DIR=$&#123;PROJECT_OUT_DIR&#125;/system/app/DeskClock/</span><br><span class="line">DESKCLOCK_PKG_NAME=com.android.deskclock</span><br><span class="line">DESKCLOCK_REMOTE_DIR=/system/app/DeskClock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">	&quot;deskclock&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_SRC_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_OUT_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_REMOTE_DIR&#125;</span> <span class="variable">$&#123;DESKCLOCK_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	* )</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh deskclock</span></span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
</li>
<li><p>多媒体应用：<code>handleXxxxxx.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">UTILS_DIR=~/.PersonalTools/utils</span><br><span class="line"></span><br><span class="line">PROJECT_DIR=&quot;/home/ckt/work/xxxxxxx/LINUX/android&quot;</span><br><span class="line">PROJECT_SRC_DIR=&quot;$&#123;PROJECT_DIR&#125;&quot;</span><br><span class="line">PROJECT_OUT_DIR=&quot;$&#123;PROJECT_DIR&#125;/out/target/product/msm8909go&quot;</span><br><span class="line">PROJECT_LUNCH_IDX=29</span><br><span class="line"></span><br><span class="line">SOUNDRECORDER_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/SoundRecorder/&quot;</span><br><span class="line">SOUNDRECORDER_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/priv-app/SoundRecorder/&quot;</span><br><span class="line">SOUNDRECORDER_PKG_NAME=com.android.soundrecorder</span><br><span class="line">SOUNDRECORDER_REMOTE_DIR=/system/priv-app/SoundRecorder</span><br><span class="line"></span><br><span class="line">GALLERY_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/Gallery2/&quot;</span><br><span class="line">GALLERY_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/Gallery2/&quot;</span><br><span class="line">GALLERY_PKG_NAME=com.android.gallery3d</span><br><span class="line">GALLERY_REMOTE_DIR=/system/app/Gallery2</span><br><span class="line"></span><br><span class="line">SNAPDRAGONMUSIC_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/Music/&quot;</span><br><span class="line">SNAPDRAGONMUSIC_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/Music/&quot;</span><br><span class="line">SNAPDRAGONMUSIC_PKG_NAME=com.android.music</span><br><span class="line">SNAPDRAGONMUSIC_REMOTE_DIR=/system/app/Music</span><br><span class="line"></span><br><span class="line">CLOCK_SRC_DIR=&quot;$&#123;PROJECT_SRC_DIR&#125;/packages/apps/DeskClock&quot;</span><br><span class="line">CLOCK_OUT_DIR=&quot;$&#123;PROJECT_OUT_DIR&#125;/system/app/DeskClock&quot;</span><br><span class="line">CLOCK_PKG_NAME=com.android.deskclock</span><br><span class="line">CLOCK_REMOTE_DIR=/system/app/DeskClock</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">	&quot;soundrecorder&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_SRC_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_OUT_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_REMOTE_DIR&#125;</span> <span class="variable">$&#123;SOUNDRECORDER_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;gallery&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;GALLERY_SRC_DIR&#125;</span> <span class="variable">$&#123;GALLERY_OUT_DIR&#125;</span> <span class="variable">$&#123;GALLERY_REMOTE_DIR&#125;</span> <span class="variable">$&#123;GALLERY_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;music&quot;	)</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_SRC_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_OUT_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_REMOTE_DIR&#125;</span> <span class="variable">$&#123;SNAPDRAGONMUSIC_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	&quot;clock&quot; ) </span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/handleSpecificTask.sh <span class="variable">$2</span> <span class="variable">$&#123;PROJECT_SRC_DIR&#125;</span> <span class="variable">$&#123;CLOCK_SRC_DIR&#125;</span> <span class="variable">$&#123;CLOCK_OUT_DIR&#125;</span> <span class="variable">$&#123;CLOCK_REMOTE_DIR&#125;</span> <span class="variable">$&#123;CLOCK_PKG_NAME&#125;</span> <span class="variable">$&#123;PROJECT_LUNCH_IDX&#125;</span></span></span><br><span class="line">		;;</span><br><span class="line">	* )</span><br><span class="line"><span class="meta">		$</span><span class="bash">&#123;UTILS_DIR&#125;/tipWhenParametersError.sh soundrecorder gallery music clock</span></span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>目前这些脚本对我来说，已无实际用途，不能保证准确性，只是做一个纪念，纪念那段无知却在挣扎的时光。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-08T06:58:12.000Z" title="4/8/2018, 2:58:12 PM">2018-04-08</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:03:41.962Z" title="2/9/2021, 11:03:41 AM">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">10 分钟读完 (大约1519个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/08/3ddbaba2d194.html">Service使用笔记</a></h1><div class="content"><blockquote>
<p>看过好几回了，但是还是好像每次都忘，可能是用得少，但是工作中看的一些源代码中用的太多了，可是每次用的时候都看一遍，有点浪费时间，还是自己做一个简单的总结，这样可能以后会快一些。</p>
</blockquote>
<p>这篇在草稿箱里实在是存太久了。。。</p>
<hr>
<h2 id="Service的分类"><a href="#Service的分类" class="headerlink" title="Service的分类"></a>Service的分类</h2><ul>
<li><p>启动型<br>通过调用<code>startService() </code>启动，一旦启动，服务即可在后台无限期运行，即使启动服务的组件已被销毁也不受影响。 已启动的服务通常是执行单一操作，而且不会将结果返回给调用方。</p>
</li>
<li><p>绑定型<br>通过调用<code>bindService()</code> 绑定到服务，服务即处于“绑定”状态。绑定服务提供了一个客户端-服务器接口，允许组件与服务进行交互、发送请求、获取结果，甚至是利用进程间通信 (IPC) 跨进程执行这些操作。 <em>仅当与另一个应用组件绑定时，绑定服务才会运行; 多个组件可以同时绑定到该服务，但全部取消绑定后，该服务即会被销毁</em>。</p>
</li>
</ul>
<p><strong>服务在其托管进程的主线程中运行，它既不创建自己的线程，也不在单独的进程中运行（除非另行指定）。</strong></p>
<h2 id="Service的生命周期"><a href="#Service的生命周期" class="headerlink" title="Service的生命周期"></a>Service的生命周期</h2><p>因为其分两类,所以它的生命周期也有两种:<br><img src="/images/pics/229b707972264550169d216ae68710f1.png" alt="图片1"></p>
<p>左边为启动型, 右边为绑定型.</p>
<h2 id="Service在清单文件中的属性"><a href="#Service在清单文件中的属性" class="headerlink" title="Service在清单文件中的属性"></a>Service在清单文件中的属性</h2><ul>
<li><code>android:exported</code>: 顾名思义,是否可以被导出,即是否可以被绑定用做服务端.<br><code> false</code>:确保服务仅适用于您的应用.<br><code>true</code>: 与false相反.</li>
</ul>
<p>请始终使用<strong>显式 Intent 启动</strong>或绑定 Service，且<strong>不要为服务声明 Intent 过滤器</strong>。</p>
<h2 id="启动型Service"><a href="#启动型Service" class="headerlink" title="启动型Service"></a>启动型Service</h2><h3 id="继承Service"><a href="#继承Service" class="headerlink" title="继承Service"></a>继承<code>Service</code></h3><p>若使用这种方法,则需要注意一个问题,那就是**<code>Service</code>默认的线程是主线程**, 不要在其中做耗时的事情.</p>
<h3 id="继承IntentService"><a href="#继承IntentService" class="headerlink" title="继承IntentService"></a>继承<code>IntentService</code></h3><p>使用这种方法, 就不需要担心线程的问题.因为其做为一个对<code>Service</code>的简单封装,它内部已经将所有的事件都放在了子线程中.不妨对其做一个简单的分析来加深对<code>Service</code>的理解.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate();</span><br><span class="line">    HandlerThread thread = </span><br><span class="line">	    <span class="keyword">new</span> HandlerThread(<span class="string">&quot;IntentService[&quot;</span> + mName + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    thread.start();</span><br><span class="line"></span><br><span class="line">    mServiceLooper = thread.getLooper();</span><br><span class="line">    mServiceHandler = <span class="keyword">new</span> ServiceHandler(mServiceLooper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在其<code>onCreate()</code>中,将开启一个初始化好<code>Looper</code>的子线程. 并为这个<code>Looper</code>的消息队列添加一个<code>Handler</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//IntentService.java</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ServiceHandler</span><span class="params">(Looper looper)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(looper);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</span><br><span class="line">        onHandleIntent((Intent)msg.obj);</span><br><span class="line">        stopSelf(msg.arg1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WorkerThread</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">onHandleIntent</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="meta">@Nullable</span> Intent intent)</span></span>;</span><br></pre></td></tr></table></figure>
<p>其中的<code>Handler</code>用来处理在这个子线程中的事务,其中的<code>onHandleIntent()</code>正是我们在继承<code>IntentService</code>时所需要实现的一个方法, 也就是说我们在其中写的方法都是在子线程中执行.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">(<span class="meta">@Nullable</span> Intent intent, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">    Message msg = mServiceHandler.obtainMessage();</span><br><span class="line">    msg.arg1 = startId;</span><br><span class="line">    msg.obj = intent;</span><br><span class="line">    mServiceHandler.sendMessage(msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * You should not override this method for your IntentService. Instead,</span></span><br><span class="line"><span class="comment"> * override &#123;<span class="doctag">@link</span> #onHandleIntent&#125;, which the system calls when the IntentService</span></span><br><span class="line"><span class="comment"> * receives a start request.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> android.app.Service#onStartCommand</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(<span class="meta">@Nullable</span> Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">    onStart(intent, startId);</span><br><span class="line">    <span class="keyword">return</span> mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>onStart()</code>并没有太大的意义，只是一个普通的函数，重要的是它里面做的事情。它将从<code>onStartCommand()</code>里面得到的intent，通过message传递给handler，然后再是自己，对不同intent的处理。</p>
<p>对<code>onStartCommand()</code>的返回值，有下面三种：</p>
<ul>
<li><code>START_NOT_STICKY</code><br>如果系统在 onStartCommand() 返回后终止服务，则除非有挂起 Intent 要传递，否则系统不会重建服务。这是最安全的选项，可以避免在不必要时以及应用能够轻松重启所有未完成的作业时运行服务。</li>
<li><code>START_STICKY</code><br>如果系统在 onStartCommand() 返回后终止服务，则会重建服务并调用 onStartCommand()，但不会重新传递最后一个 Intent。相反，除非有挂起 Intent 要启动服务（在这种情况下，将传递这些 Intent ），否则系统会通过空 Intent 调用 onStartCommand()。这适用于不执行命令、但无限期运行并等待作业的媒体播放器（或类似服务）。</li>
<li><code>START_REDELIVER_INTENT</code><br>如果系统在 onStartCommand() 返回后终止服务，则会重建服务，并通过传递给服务的最后一个 Intent 调用 onStartCommand()。任何挂起 Intent 均依次传递。这适用于主动执行应该立即恢复的作业（例如下载文件）的服务。</li>
</ul>
<h3 id="如何停止"><a href="#如何停止" class="headerlink" title="如何停止"></a>如何停止</h3><p>启动服务必须管理自己的生命周期。也就是说，除非系统必须回收内存资源，否则系统不会停止或销毁服务，而且服务在 onStartCommand() 返回后会继续运行。<br>因此，服务必须通过调用<code>stopSelf() </code>自行停止运行，或者由另一个组件通过调用 <code>stopService() </code>来停止它。一旦请求使用 stopSelf() 或 stopService() 停止服务，系统就会尽快销毁服务。</p>
<p><a target="_blank" rel="noopener" href="http://blog.csdn.net/baidu_31405631/article/details/52469093">http://blog.csdn.net/baidu_31405631/article/details/52469093</a></p>
<h2 id="绑定型Service"><a href="#绑定型Service" class="headerlink" title="绑定型Service"></a>绑定型Service</h2><p>对于此种类型的，感觉自己用得到的地方并不是很多，但是要能够看得懂这这种类型的Service的代码，尤其是AIDL，在Android中非常常见。</p>
<p>AIDL的大致使用步骤如下：</p>
<ol>
<li>编写包含接口的aidl文件，make project，生成同名的java文件</li>
<li>AIDL是一种可跨进程的，就是说可以在进程A中，调用进程B中的方法，所以要首先要实现该方法类。实现其中的方法，只需要继承同名java文件中的Stub类，并实现其中的方法，即可。</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-07T07:39:49.000Z" title="4/7/2018, 3:39:49 PM">2018-04-07</time>发表</span><span class="level-item"><time dateTime="2021-02-09T03:04:05.185Z" title="2/9/2021, 11:04:05 AM">2021-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">8 分钟读完 (大约1260个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/04/07/2983ade087a2.html">ButterKnife官方使用指南</a></h1><div class="content"><p>看到了<code>ButterKnife</code>之后，感觉它实在是太棒了，可以省略掉一大堆无趣的<code>findViewById()</code>，整个代码看起来都舒服多了。这篇使用说明来自它的官方网站的简易介绍，用起来非常简单，但是也是有挺多的情况，所以还是觉得自己翻译出来，方便以后查阅吧！</p>
<hr>
<p>使用<code>@BindView</code>和<code>ID</code>注解相应的变量，<code>ButterKnife</code>就会在你的<code>layout</code>文件中找到所对应的<code>View</code>并赋值给它。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">  <span class="meta">@BindView(R.id.title)</span> TextView title;</span><br><span class="line">  <span class="meta">@BindView(R.id.subtitle)</span> TextView subtitle;</span><br><span class="line">  <span class="meta">@BindView(R.id.footer)</span> TextView footer;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.simple_activity);</span><br><span class="line">    ButterKnife.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// TODO Use fields...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面例子中，所生成的代码大致与下面代码等同：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bind</span><span class="params">(ExampleActivity activity)</span> </span>&#123;</span><br><span class="line">  activity.subtitle = (android.widget.TextView) activity.findViewById(<span class="number">2130968578</span>);</span><br><span class="line">  activity.footer = (android.widget.TextView) activity.findViewById(<span class="number">2130968579</span>);</span><br><span class="line">  activity.title = (android.widget.TextView) activity.findViewById(<span class="number">2130968577</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="资源绑定"><a href="#资源绑定" class="headerlink" title="资源绑定"></a>资源绑定</h2><p>使用<code>@BindBool</code>, <code>@BindColor</code>, <code>@BindDimen</code>, <code>@BindDrawable</code>, <code>@BindInt</code>, <code>@BindString</code>与一个对应的<code>ID</code>来绑定定义好的资源，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">  <span class="meta">@BindString(R.string.title)</span> String title;</span><br><span class="line">  <span class="meta">@BindDrawable(R.drawable.graphic)</span> Drawable graphic;</span><br><span class="line">  <span class="meta">@BindColor(R.color.red)</span> <span class="keyword">int</span> red; <span class="comment">// int or ColorStateList field</span></span><br><span class="line">  <span class="meta">@BindDimen(R.dimen.spacer)</span> Float spacer; <span class="comment">// int (for pixel size) or float (for exact value) field</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="非ACTIVITY绑定"><a href="#非ACTIVITY绑定" class="headerlink" title="非ACTIVITY绑定"></a>非ACTIVITY绑定</h2><p>我们还可以在已知<code>View</code>的情况下，在任意的对象中，绑定该<code>View</code>中所含有的控件。比如在<code>Fragment</code>中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FancyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">  <span class="meta">@BindView(R.id.button1)</span> Button button1;</span><br><span class="line">  <span class="meta">@BindView(R.id.button2)</span> Button button2;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    View view = inflater.inflate(R.layout.fancy_fragment, container, <span class="keyword">false</span>);</span><br><span class="line">    ButterKnife.bind(<span class="keyword">this</span>, view);</span><br><span class="line">    <span class="comment">// TODO Use fields...</span></span><br><span class="line">    <span class="keyword">return</span> view;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另外一个是在<code>ViewHolder</code>中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View view, ViewGroup parent)</span> </span>&#123;</span><br><span class="line">    ViewHolder holder;</span><br><span class="line">    <span class="keyword">if</span> (view != <span class="keyword">null</span>) &#123;</span><br><span class="line">      holder = (ViewHolder) view.getTag();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      view = inflater.inflate(R.layout.whatever, parent, <span class="keyword">false</span>);</span><br><span class="line">      holder = <span class="keyword">new</span> ViewHolder(view);</span><br><span class="line">      view.setTag(holder);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    holder.name.setText(<span class="string">&quot;John Doe&quot;</span>);</span><br><span class="line">    <span class="comment">// etc...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> view;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line">    <span class="meta">@BindView(R.id.title)</span> TextView name;</span><br><span class="line">    <span class="meta">@BindView(R.id.job_title)</span> TextView jobTitle;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">      ButterKnife.bind(<span class="keyword">this</span>, view);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="其它的绑定方式"><a href="#其它的绑定方式" class="headerlink" title="其它的绑定方式"></a>其它的绑定方式</h2><p>可使用<code>Activity</code>当做一个根<code>View</code>可以绑定任何对象。如果你使用了<code>MVC</code>模式，你可以使用<code>ButterKnife.bind(this, activity)</code>来绑定<code>Controller</code>。<br>可使用<code>ButterKnife.bind(this)</code>来绑定一个<code>View</code>里面的子<code>View</code>。如果你在<code>layout</code>文件中使用了<code>&lt;merge&gt;</code>标签并且在<code>View</code>的构造器中填充，你可以在这之后立马调用它。或者，你也可以在<code>onFinishInflate()</code>回调中调用。</p>
<h2 id="VIEW-LISTS"><a href="#VIEW-LISTS" class="headerlink" title="VIEW LISTS"></a>VIEW LISTS</h2><p>将所需要的控件，全部填充到一个<code>List</code>中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindViews(&#123; R.id.first_name, R.id.middle_name, R.id.last_name &#125;)</span></span><br><span class="line">List&lt;EditText&gt; nameViews;</span><br></pre></td></tr></table></figure>

<p><code>apply()</code>方法可以对<code>List</code>中所有的<code>View</code>执行某个操作。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ButterKnife.apply(nameViews, DISABLE);</span><br><span class="line">ButterKnife.apply(nameViews, ENABLED, <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<p>可以指定一些简单的动作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">static final ButterKnife.Action&lt;View&gt; DISABLE &#x3D; new ButterKnife.Action&lt;View&gt;() &#123;</span><br><span class="line">  @Override public void apply(View view, int index) &#123;</span><br><span class="line">    view.setEnabled(false);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">static final ButterKnife.Setter&lt;View, Boolean&gt; ENABLED &#x3D; new ButterKnife.Setter&lt;View, Boolean&gt;() &#123;</span><br><span class="line">  @Override public void set(View view, Boolean value, int index) &#123;</span><br><span class="line">    view.setEnabled(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>当然也可以在<code>apply()</code>方法中指定一个<code>Android</code>中控件的属性名。</p>
<p><code>ButterKnife.apply(nameViews, View.ALPHA, 0.0f);</code></p>
<h2 id="绑定LISTENER"><a href="#绑定LISTENER" class="headerlink" title="绑定LISTENER"></a>绑定LISTENER</h2><p>监听器也可以自动配置到相应的<code>View</code>上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick(R.id.submit)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">submit</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// TODO submit data to server...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>监听器函数的参数都是可选的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick(R.id.submit)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">submit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// TODO submit data to server...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>指定一个确定的类型，它将会被自动转换成之。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick(R.id.submit)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">(Button button)</span> </span>&#123;</span><br><span class="line">  button.setText(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以为将一个监听器函数，绑定到多个控件上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnClick(&#123; R.id.door1, R.id.door2, R.id.door3 &#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pickDoor</span><span class="params">(DoorView door)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (door.hasPrizeBehind()) &#123;</span><br><span class="line">    Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;You win!&quot;</span>, LENGTH_SHORT).show();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;Try again&quot;</span>, LENGTH_SHORT).show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自定义<code>View</code>时，绑定自己的监听器函数不需要设置<code>ID</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FancyButton</span> <span class="keyword">extends</span> <span class="title">Button</span> </span>&#123;</span><br><span class="line">  <span class="meta">@OnClick</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// TODO do something!</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="重置绑定"><a href="#重置绑定" class="headerlink" title="重置绑定"></a>重置绑定</h2><p><code>Fragment</code>和<code>Activity</code>的生命周期不同。当在<code>Fragment</code>的<code>onCreateView()</code>中使用了绑定，就需要在<code>onDestroyView()</code>中将变量置为<code>null</code>。<code>ButterKnife</code>在调用绑定时会返回一个<code>Unbinder</code>的实例，在适当的生命周期回调中，调用这个实例的<code>unbind()</code>方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FancyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">	<span class="meta">@BindView(R.id.button1)</span> Button button1;</span><br><span class="line">	<span class="meta">@BindView(R.id.button2)</span> Button button2;</span><br><span class="line">	<span class="keyword">private</span> Unbinder unbinder;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">		View view = inflater.inflate(R.layout.fancy_fragment, container, <span class="keyword">false</span>);</span><br><span class="line">		unbinder = ButterKnife.bind(<span class="keyword">this</span>, view);</span><br><span class="line">		<span class="comment">// TODO Use fields...</span></span><br><span class="line">		<span class="keyword">return</span> view;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroyView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onDestroyView();</span><br><span class="line">		unbinder.unbind();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="其它绑定"><a href="#其它绑定" class="headerlink" title="其它绑定"></a>其它绑定</h2><p>通常<code>@Bind</code>和监听器绑定都是必须的。如果在目标<code>View</code>中为找到相应<code>ID</code>的控件，则会抛出异常。</p>
<p>为了抑制住这中异常，创建一个可选的绑定，可以使用<code>@Nullable</code>或<code>@Optional</code>来注解变量或方法。</p>
<p>注 : 可使用任何名为<code>@Nullable</code>的注解来注解变量，但推荐Android <code>support-annotations</code>中的<code>@Nullable</code> 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span> <span class="meta">@BindView(R.id.might_not_be_there)</span> TextView mightNotBeThere;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Optional</span> <span class="meta">@OnClick(R.id.maybe_missing)</span> <span class="function"><span class="keyword">void</span> <span class="title">onMaybeMissingClicked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// TODO ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="多方法监听器"><a href="#多方法监听器" class="headerlink" title="多方法监听器"></a>多方法监听器</h2><p>可在注解中加入参数来区分。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnItemSelected(R.id.list_view)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// TODO ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OnItemSelected(value = R.id.maybe_missing, callback = NOTHING_SELECTED)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// TODO ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><h3 id="GRADLE"><a href="#GRADLE" class="headerlink" title="GRADLE"></a>GRADLE</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">compile</span> <span class="string">&#x27;com.jakewharton:butterknife:(insert latest version)&#x27;</span></span><br><span class="line">annotationProcessor <span class="string">&#x27;com.jakewharton:butterknife-compiler:(insert latest version)&#x27;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-03-27T04:47:59.000Z" title="3/27/2018, 12:47:59 PM">2018-03-27</time>发表</span><span class="level-item"><time dateTime="2022-04-20T16:08:19.250Z" title="4/21/2022, 12:08:19 AM">2022-04-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a></span><span class="level-item">4 分钟读完 (大约594个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/03/27/4a74bf2e6eac.html">通过反射来获取Intent中的Key</a></h1><div class="content">在项目中遇到一种情况，我想通过了解某个Intent里面到底存了哪些数据来解决这个问题。但是我们知道，Intent里面的数据需要知道key才能调用相应的函数取出来，所以如何才能找出这些key呢？通过对Intent代码里面对存数据的观察，我们可以看到，通过putExtra()存的数据，都放在一个叫做mE</div><a class="article-more button is-small is-size-7" href="/2018/03/27/4a74bf2e6eac.html#more">阅读更多</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/tags/Android/page/0/">上一页</a></div><div class="pagination-next"><a href="/tags/Android/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/tags/Android/">1</a></li><li><a class="pagination-link" href="/tags/Android/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/12/"><span class="level-start"><span class="level-item">十二月 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">一月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">七月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">六月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">五月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">四月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">三月 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">八月 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">四月 2018</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">三月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">一月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/249b2dc63505.html"><img src="/images/pics/5300c911560a8d2e0d745dcaf025d22f.jpg" alt="M系列MacBook连接l2tp时失败的问题修复"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/249b2dc63505.html">M系列MacBook连接l2tp时失败的问题修复</a></p><p class="categories"><a href="/categories/macOS/">macOS</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/e9036e8500f6.html"><img src="/images/thumbnails/rust-lang.png" alt="Rust学习笔记"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/e9036e8500f6.html">Rust学习笔记</a></p><p class="categories"><a href="/categories/Rust/">Rust</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/4948e86c1262.html"><img src="/images/pics/DrRvr9.jpg" alt="Calico证书学习笔记"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/4948e86c1262.html">Calico证书学习笔记</a></p><p class="categories"><a href="/categories/Kubernetes/">Kubernetes</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/6dae87e31dc3.html"><img src="/images/pics/e9f22d889a230bfda8e24c0a981740a8.png" alt="如何在YAML文件中进行优雅地换行"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/6dae87e31dc3.html">如何在YAML文件中进行优雅地换行</a></p><p class="categories"><a href="/categories/Golang/">Golang</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/25470f32f4bb.html"><img src="/images/pics/kubernetes-cka-color.svg" alt="CKS证书学习资料汇编"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/25470f32f4bb.html">CKS证书学习资料汇编</a></p><p class="categories"><a href="/categories/Kubernetes/">Kubernetes</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://crisfang.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Cris</span></span><span class="level-right"><span class="level-item tag">crisfang.com</span></span></a></li><li><a class="level is-mobile" href="https://sanyuesha.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">三月沙</span></span><span class="level-right"><span class="level-item tag">sanyuesha.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="遇寻笔记" height="28"></a><p class="is-size-7"><span>&copy; 2024 遇寻</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/eucham"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/eucham"><i class="fab fa-linkedin"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>