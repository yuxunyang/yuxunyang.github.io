<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>遇寻笔记</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="遇寻笔记"><meta name="msapplication-TileImage" content="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="遇寻笔记"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:type" content="website"><meta property="og:title" content="遇寻笔记"><meta property="og:url" content="https://eucham.me/"><meta property="og:site_name" content="遇寻笔记"><meta property="og:description" content="No. I&amp;#39;ll bring me back a souvenir."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://eucham.me/img/og_image.png"><meta property="article:author" content="遇寻"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://eucham.me"},"headline":"遇寻笔记","image":["https://eucham.me/img/og_image.png"],"author":{"@type":"Person","name":"遇寻"},"publisher":{"@type":"Organization","name":"遇寻笔记","logo":{"@type":"ImageObject","url":"https://eucham.me/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"}},"description":"No. I&#39;ll bring me back a souvenir."}</script><link rel="icon" href="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?7d79380bb26079f6dd33da78e83cf2ab";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="遇寻笔记" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/categories/AI">AI</a><a class="navbar-item" href="/categories/Kubernetes">Kubernetes</a><a class="navbar-item" href="/categories/Openstack">Openstack</a><a class="navbar-item" href="/categories/Docker">Container</a><a class="navbar-item" href="/categories/Golang">Golang</a><a class="navbar-item" href="/categories/Rust">Rust</a><a class="navbar-item" href="/about.html">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/eucham"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/eucham"><i class="fab fa-linkedin"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T07:08:08.170Z" title="6/12/2023, 3:08:08 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T07:08:43.667Z" title="6/12/2023, 3:08:43 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="level-item">8 分钟读完 (大约1255个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/e54d04dcd0b8.html">换行符问题</a></h1><div class="content">问题Linux 环境执行一些脚本出错，查找原因，发现是文件在Windows环境修改并上传，格式被转换为MS-Dos格式（换行符不同），这样的文件在Linux中运行会出错（shell 解释器把换行符作为一个命令的提交）。背景很久以前，老式的电传打字机使用两个字符来另起新行。回车符(CR，carriag</div><a class="article-more button is-small is-size-7" href="/2023/06/12/e54d04dcd0b8.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T07:04:28.491Z" title="6/12/2023, 3:04:28 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T07:04:28.491Z" title="6/12/2023, 3:04:28 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Kubernetes/">Kubernetes</a></span><span class="level-item">4 分钟读完 (大约542个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/1c3fe39c1f3f.html">Certified Calico Operator: Level 1 笔记</a></h1><div class="content"><p>证书课程地址：<a target="_blank" rel="noopener" href="https://courses.academy.tigera.io/courses/course-v1:tigera+CCO-L1+CCO-L1-2020/course/">Course | CCO-L1 | Tigera</a><br>还有一份可能有用的电子书：<br><a target="_blank" rel="noopener" href="https://www.yuque.com/attachments/yuque/0/2022/pdf/34563650/1672383996979-dd110bd9-c119-4ead-b080-424ba48861c7.pdf">Tigera_eBook_Intro_to_Kubernetes_Networking.pdf</a></p>
<h3 id="Kubernetes-Network-Model"><a href="#Kubernetes-Network-Model" class="headerlink" title="Kubernetes Network Model"></a>Kubernetes Network Model</h3><ol>
<li>每个 Pod 都有一个 IP 地址；</li>
<li>同一个 Pod 中的容器共享同一 IP 地址，并能通过该地址相互通信；</li>
<li>Pod 与 Pod 之间可以通过 IP 通信（无需地址转换）；</li>
<li>网络隔离可以限制哪里 Pod 可以访问哪些不可以。</li>
</ol>
<p><img src="/images/pics/oNK9Sp.jpg"></p>
<h3 id="安装测试集群"><a href="#安装测试集群" class="headerlink" title="安装测试集群"></a>安装测试集群</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl https://raw.githubusercontent.com/tigera/ccol1/main/control-init.yaml | multipass launch -n control -m 2048M 20.04 --cloud-init -</span><br><span class="line">curl https://raw.githubusercontent.com/tigera/ccol1/main/node1-init.yaml | multipass launch -n node1 20.04 --cloud-init -</span><br><span class="line">curl https://raw.githubusercontent.com/tigera/ccol1/main/node2-init.yaml | multipass launch -n node2 20.04 --cloud-init -</span><br><span class="line">curl https://raw.githubusercontent.com/tigera/ccol1/main/host1-init.yaml | multipass launch -n host1 20.04 --cloud-init -</span><br></pre></td></tr></table></figure>
<p>重启系统后，可能需要启动所有的虚拟机</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">multipass start --all</span><br></pre></td></tr></table></figure>
<h3 id="安装-Calico"><a href="#安装-Calico" class="headerlink" title="安装 Calico"></a>安装 Calico</h3><p>4 种安装方式</p>
<ul>
<li>Manifest</li>
<li>Operator</li>
<li>Managed Kubernetes Services</li>
<li>Kubernetes Distros and Installers<h4 id="Operator-方式安装"><a href="#Operator-方式安装" class="headerlink" title="Operator 方式安装"></a>Operator 方式安装</h4>可参考：<a target="_blank" rel="noopener" href="https://projectcalico.docs.tigera.io/getting-started/kubernetes/quickstart">Quickstart for Calico on Kubernetes</a><br>注意事项：</li>
</ul>
<ol>
<li>Pod 的网段</li>
<li>calico 版本与 kubernetes 版本之间的兼容关系（最好就用教程里面的安装命令）<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f https://docs.projectcalico.org/archive/v3.21/manifests/tigera-operator.yaml</span><br><span class="line">cat &lt;&lt;<span class="string">EOF | kubectl apply -f -</span></span><br><span class="line"><span class="string">apiVersion: operator.tigera.io/v1</span></span><br><span class="line"><span class="string">kind: Installation</span></span><br><span class="line"><span class="string">metadata:</span></span><br><span class="line"><span class="string">  name: default</span></span><br><span class="line"><span class="string">spec:</span></span><br><span class="line"><span class="string">  calicoNetwork:</span></span><br><span class="line"><span class="string">    containerIPForwarding: Enabled</span></span><br><span class="line"><span class="string">    ipPools:</span></span><br><span class="line"><span class="string">    - cidr: 198.19.16.0/20</span></span><br><span class="line"><span class="string">      natOutgoing: Enabled</span></span><br><span class="line"><span class="string">      encapsulation: None</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>
删除 tigera-operator 命名空间<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">&quot;Content-Type: application/json&quot;</span> \</span><br><span class="line">-XPUT \</span><br><span class="line">-d <span class="string">&#x27;&#123;&quot;apiVersion&quot;:&quot;v1&quot;,&quot;kind&quot;:&quot;Namespace&quot;,&quot;metadata&quot;:&#123;&quot;name&quot;:&quot;tigera-operator&quot;&#125;,&quot;spec&quot;:&#123;&quot;finalizers&quot;:[]&#125;&#125;&#x27;</span> \</span><br><span class="line">http://localhost:8001/api/v1/namespaces/tigera-operator/finalize</span><br></pre></td></tr></table></figure>
相关 Pod 的工作内容：</li>
</ol>
<ul>
<li><code>tigera-operator/tigera-operator-xxxx-xxx</code> </li>
</ul>
<p>监听 Installation CR，并按照配置安装 calico CNI。</p>
<ul>
<li>calico-system/calico-node</li>
</ul>
<p>DaemonSet，网络策略实现；设置Node节点上的路由；为 IPIP、VXLAN、WireGuard 管理虚拟接口。</p>
<ul>
<li>calico-system/calico-typha</li>
</ul>
<p>StatefulSet，作为 calico-node 用来查询、监听 api-server 时的缓存层，避免直接访问 api-server。它由 tigera-operator 来随着 node 的变化，进行扩缩容。</p>
<ul>
<li>calico-system/calico-controller</li>
</ul>
<p>calico 的各种 controller 集合，用于自动同步资源状态。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:54:14.638Z" title="6/12/2023, 2:54:14 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:54:14.638Z" title="6/12/2023, 2:54:14 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Kubernetes/">Kubernetes</a></span><span class="level-item">2 分钟读完 (大约272个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/6352c36d7c20.html">Service 中的几个 port 的区别</a></h1><div class="content"><p><strong>Service</strong>: This directs the traffic to a pod.<br><strong>TargetPort</strong>: This is the actual port on which your application is running inside the container.<br><strong>Port</strong>: Some times your application inside container serves different services on a different port.</p>
<p>Example: The actual application can run 8080 and health checks for this application can run on 8089 port of the container. So if you hit the service without port it doesn’t know to which port of the container it should redirect the request. Service needs to have a mapping so that it can hit the specific port of the container.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">MyApp</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">http</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30475</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8089</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">metrics</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31261</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">5555</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">5555</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">health</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30013</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8443</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8085</span></span><br></pre></td></tr></table></figure>

<p>if you hit the my-service:8089 the traffic is routed to 8080 of the container(targetPort). Similarly, if you hit my-service:8443 then it is redirected to 8085 of the container(targetPort). But this myservice:8089 is internal to the kubernetes cluster and can be used when one application wants to communicate with another application. So to hit the service from outside the cluster someone needs to expose the port on the host machine on which kubernetes is running so that the traffic is redirected to a port of the container. This is node port(port exposed on the host machine). From the above example, you can hit the service from outside the cluster(Postman or any rest-client) by host_ip:nodePort</p>
<p>Say your host machine ip is 10.10.20.20 you can hit the http, metrics, health services by 10.10.20.20:30475, 10.10.20.20:31261, 10.10.20.20:30013.</p>
<p>Edits: Edited as per Raedwald comment.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:51:46.309Z" title="6/12/2023, 2:51:46 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:51:46.309Z" title="6/12/2023, 2:51:46 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Docker/">Docker</a></span><span class="level-item">2 分钟读完 (大约228个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/38afcaa3bc3c.html">记录一个与容器1号进程有关的问题</a></h1><div class="content"><p>浏览器访问服务 502 发现服务挂了 但是 docker 状态看起来还正常着服务跑在 Docker 容器里面<br>启动方式为：<code>shell (pid -&gt; 1) -&gt; java ( pid != 1) </code></p>
<ol>
<li><code>docker ps</code> 能看见xxx的 STATUS 为 Up 4 days </li>
<li><code>docker top xxx</code> 显示出来无进程 </li>
<li><code>docker exec -it xxx bash</code> 显示 cannot exec in a stopped state: unknown </li>
</ol>
<p><img src="/images/pics/bf9Tka.jpg"></p>
<p>docker logs 能看见日志 可以看见最后一行日志为 killed<br>docker stop 需要等待一段时间才能结束 </p>
<p>Docker 版本：Docker Engine - Community 20.10.1 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ubuntu @ ucloud-hk in ~ [10:55:49]</span></span><br><span class="line">$ docker version</span><br><span class="line">Client: Docker Engine - Community</span><br><span class="line">Version:           20.10.1</span><br><span class="line">API version:       1.41</span><br><span class="line">Go version:        go1.13.15</span><br><span class="line">Git commit:        831ebea</span><br><span class="line">Built:             Tue Dec 15 04:34:58 2020</span><br><span class="line">OS/Arch:           linux/amd64</span><br><span class="line">Context:           default</span><br><span class="line">Experimental:      <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Server: Docker Engine - Community</span><br><span class="line">Engine:</span><br><span class="line">Version:          20.10.1</span><br><span class="line">API version:      1.41 (minimum version 1.12)</span><br><span class="line">Go version:       go1.13.15</span><br><span class="line">Git commit:       f001486</span><br><span class="line">Built:            Tue Dec 15 04:32:52 2020</span><br><span class="line">OS/Arch:          linux/amd64</span><br><span class="line">Experimental:     <span class="literal">false</span></span><br><span class="line">containerd:</span><br><span class="line">Version:          1.4.3</span><br><span class="line">GitCommit:        269548fa27e0089a8b8278fc4fc781d7f65a939b</span><br><span class="line">runc:</span><br><span class="line">Version:          1.0.0-rc92</span><br><span class="line">GitCommit:        ff819c7e9184c13b7c2607fe6c30ae19403a7aff</span><br><span class="line">docker-init:</span><br><span class="line">Version:          0.19.0</span><br><span class="line">GitCommit:        de40ad0</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhangjikuan/article/details/114702299">https://blog.csdn.net/zhangjikuan/article/details/114702299</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:45:41.482Z" title="6/12/2023, 2:45:41 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:45:41.482Z" title="6/12/2023, 2:45:41 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Kubernetes/">Kubernetes</a></span><span class="level-item">5 分钟读完 (大约765个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/51cba5e1e272.html">手动安装K8s记录</a></h1><div class="content"><h2 id="必要的工具安装"><a href="#必要的工具安装" class="headerlink" title="必要的工具安装"></a>必要的工具安装</h2><ul>
<li><p>cfssl</p>
</li>
<li><p>cfssljson</p>
</li>
<li><p>kubectl</p>
<h2 id="证书与CA"><a href="#证书与CA" class="headerlink" title="证书与CA"></a>证书与CA</h2><p><img src="/images/pics/gOW9YM.jpeg"></p>
<h2 id="配置和生成kubeconfig"><a href="#配置和生成kubeconfig" class="headerlink" title="配置和生成kubeconfig"></a>配置和生成kubeconfig</h2></li>
<li><p>kubelet 配置文件</p>
</li>
</ul>
<p>worker-n.kubeconfig，分发到所有 <strong>worker</strong> 节点上。</p>
<ul>
<li>kube-proxy 配置文件</li>
</ul>
<p>kube-proxy.kubeconfig，分发到所有 <strong>worker</strong> 节点上。</p>
<ul>
<li>kube-controller-manager 配置文件</li>
</ul>
<p>kube-controller-manager.kubeconfig，分发到所有 <strong>控制节点</strong> 上。</p>
<ul>
<li>kube-scheduler 配置文件</li>
</ul>
<p>kube-scheduler.kubeconfig，分发到所有 <strong>控制节点</strong> 上。</p>
<ul>
<li>Admin 配置文件</li>
</ul>
<p>admin.kubeconfig，分发到所有 <strong>控制节点</strong> 上。</p>
<h2 id="配置加密k8s-secrets的秘钥"><a href="#配置加密k8s-secrets的秘钥" class="headerlink" title="配置加密k8s secrets的秘钥"></a>配置加密k8s secrets的秘钥</h2><p>encryption-config.yaml，分发到所有 <strong>控制节点</strong> 上。</p>
<h2 id="配置-amp-部署etcd"><a href="#配置-amp-部署etcd" class="headerlink" title="配置&amp;部署etcd"></a>配置&amp;部署etcd</h2><p>前置要求：etcd &amp; etcdctl 二进制<br>将 <code>ca.pem</code>、<code>kubernetes-key.pem</code>、<code>kubernetes.pem</code> 拷贝到 etcd 所在节点上，其中 <code>kubernetes-key.pem</code>、<code>kubernetes.pem</code> 作为 etcd https 服务的 TLS 证书。</p>
<h2 id="配置-amp-部署控制节点服务"><a href="#配置-amp-部署控制节点服务" class="headerlink" title="配置&amp;部署控制节点服务"></a>配置&amp;部署控制节点服务</h2><p>前置要求：kube-apiserver &amp; kube-controller-manager &amp; kube-scheduler &amp; kubectl 二进制</p>
<h3 id="api-server"><a href="#api-server" class="headerlink" title="api-server"></a>api-server</h3><p>在其启动参数中，需要</p>
<ol>
<li><p>指定 CA 为 <code>ca.pem</code></p>
</li>
<li><p>指定 etcd 的 CA 证书 <code>ca.pem</code>，公私钥为 <code>kubernetes-key.pem</code>、<code>kubernetes.pem</code>、及 etcd 的访问地址</p>
</li>
<li><p>指定 k8s secrets 的秘钥为 <code>encryption-config.yaml</code></p>
</li>
<li><p>指定 kubelet 的 CA 证书 <code>ca.pem</code>，公私钥为 <code>kubernetes-key.pem</code>、<code>kubernetes.pem</code></p>
</li>
<li><p>指定 api-server https 服务所用的 TLS 证书为 <code>kubernetes-key.pem</code>、<code>kubernetes.pem</code></p>
</li>
<li><p>指定 service account 的证书为 <code>service-account.pem</code></p>
<h3 id="controller-manager"><a href="#controller-manager" class="headerlink" title="controller-manager"></a>controller-manager</h3><p>在其启动参数中，需要</p>
</li>
<li><p>指定 cluster 所使用的 CA 的公私钥为 <code>ca.pem</code>、<code>ca-key.pem</code></p>
</li>
<li><p>指定 kubeconfig 使用 kube-controller-manager.kubeconfig</p>
</li>
<li><p>指定 root CA 为 <code>ca.pem</code></p>
</li>
<li><p>指定 service account 的私钥为 <code>service-account-key.pem</code></p>
<h3 id="scheduler"><a href="#scheduler" class="headerlink" title="scheduler"></a>scheduler</h3><p>在启动参数中，指定配置文件 <code>kube-scheduler.yaml</code>，然后在 <code>kube-scheduler.yaml</code> 中指定 kubeconfig 为 <code>kube-scheduler.kubeconfig</code>。</p>
</li>
</ol>
<hr>
<p>启动控制面服务 &amp; 验证</p>
<h2 id="给-kubelet-添加数据处理权限"><a href="#给-kubelet-添加数据处理权限" class="headerlink" title="给 kubelet 添加数据处理权限"></a>给 kubelet 添加数据处理权限</h2><p>创建 <code>system:kube-apiserver-to-kubelet</code> <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/admin/authorization/rbac/#role-and-clusterrole">ClusterRole</a> 及 <code>system:kube-apiserver</code> ClusterRoleBinding 以允许请求 Kubelet API 和执行大部分来管理 Pods 的任务</p>
<h2 id="配置-amp-部署worker节点"><a href="#配置-amp-部署worker节点" class="headerlink" title="配置&amp;部署worker节点"></a>配置&amp;部署worker节点</h2><ol>
<li><p>安装 OS 依赖的组件：socat conntrack ipset</p>
</li>
<li><p>安装 CRI</p>
</li>
<li><p>安装 worker 节点所需的二进制：<code>kubectl</code>、<code>kube-proxy</code>、<code>kubelet</code>、<code>默认提供的 CNI plugins</code></p>
<h3 id="配置kubelet"><a href="#配置kubelet" class="headerlink" title="配置kubelet"></a>配置kubelet</h3><p>创建 <code>kubelet-config.yaml</code> 文件，在该文件中指定</p>
</li>
<li><p>CA 证书</p>
</li>
<li><p>TLS 公私钥分别使用 <code>worker-1.pem</code>、<code>worker-1-key.pem</code>。好家伙，kubelet 又是一个 https 服务。</p>
</li>
</ol>
<p>并在 <code>kubelet.service</code> 指定</p>
<ol>
<li>配置文件使用文件</li>
<li>指定 kubelet 所使用的 kubeconfig 为 worker-n.kubeconfig<h3 id="配置kube-proxy"><a href="#配置kube-proxy" class="headerlink" title="配置kube-proxy"></a>配置kube-proxy</h3>创建 <code>kube-proxy-config.yaml</code> 文件，在该文件中指定所用的 kubeconfig 为 <code>kube-proxy.kubeconfig</code>；再在 <code>kubelet.service</code> 指定使用此配置文件。</li>
</ol>
<hr>
<p>启动控制面服务</p>
<h2 id="配置-kubectl-所使用的-kubeconfig"><a href="#配置-kubectl-所使用的-kubeconfig" class="headerlink" title="配置 kubectl 所使用的 kubeconfig"></a>配置 kubectl 所使用的 kubeconfig</h2><p>使用 admin.pem 和 admin-key.pem 生成 kubeconfig。</p>
<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl get componentstatuses</span><br><span class="line">kubectl get nodes</span><br></pre></td></tr></table></figure>
<h2 id="安装其他重要的组件"><a href="#安装其他重要的组件" class="headerlink" title="安装其他重要的组件"></a>安装其他重要的组件</h2><ol>
<li><p>安装 CNI</p>
</li>
<li><p>DNS</p>
</li>
<li><p>验证</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl run busybox --image=busybox:1.28.3 --<span class="built_in">command</span> -- sleep 3600</span><br><span class="line">kubectl get pods -l run=busybox</span><br><span class="line">kubectl <span class="built_in">exec</span> -ti <span class="variable">$POD_NAME</span> -- nslookup kubernetes</span><br></pre></td></tr></table></figure>
<h2 id="烟雾测试"><a href="#烟雾测试" class="headerlink" title="烟雾测试"></a>烟雾测试</h2></li>
<li><p>数据加密</p>
</li>
<li><p>Deployment</p>
<ol>
<li>创建</li>
<li>端口转发</li>
<li>容器日志</li>
<li>在容器中执行命令</li>
</ol>
</li>
<li><p>Service</p>
<ol>
<li>创建</li>
<li>访问</li>
</ol>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:41:33.669Z" title="6/12/2023, 2:41:33 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:41:33.669Z" title="6/12/2023, 2:41:33 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Kubernetes/">Kubernetes</a></span><span class="level-item">5 分钟读完 (大约804个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/e1999bb16b6a.html">PV、PVC、StorageClass 概览</a></h1><div class="content"><h2 id="为何如此设计"><a href="#为何如此设计" class="headerlink" title="为何如此设计"></a>为何如此设计</h2><ol>
<li><p>解耦对存储的使用与维护</p>
</li>
<li><p>拓展不同的存储需求</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>PV 描述的是持久化存储数据卷。这个 API 对象主要定义的是⼀个持久化存储在宿主机上的⽬录，⽐如⼀个 NFS 的挂载⽬录。通常情况下，PV 对象是由运维⼈员事先创建在 Kubernetes 集群⾥待⽤的。_<strong>类似于接口的具体实现，干活的打工人</strong><em>。<br>PVC 描述的是 Pod 所希望使⽤的持久化存储的属性。PVC 对象通常由开发⼈员创建；或者以 PVC 模板的⽅式成为 StatefulSet 的⼀部分，然后由 StatefulSet 控制器负责创建带编号的 PVC。</em><strong>类似于接口，不提供具体实现</strong>_。</p>
<h2 id="PV与PVC匹配绑定"><a href="#PV与PVC匹配绑定" class="headerlink" title="PV与PVC匹配绑定"></a>PV与PVC匹配绑定</h2><h3 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h3></li>
<li><p>两者的 spec 字段匹配</p>
</li>
<li><p>两者的 storageClassName 字段必须相同</p>
<h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>通过<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes/blob/master/pkg/controller/volume/persistentvolume/pv_controller.go"> operator 机制</a>，为每个未处于 Bound 状态的 PVC，遍历所有可用的 PV，来匹配到合适的 PV。</p>
<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>在 PVC 的 spec.volumeName 字段上填写上 PV 的名称</p>
<h2 id="两阶段处理"><a href="#两阶段处理" class="headerlink" title="两阶段处理"></a>两阶段处理</h2></li>
<li><p>Attach 调用存储系统的 API 将存储挂载到 Pod 将要调度到的 Node 上；</p>
</li>
</ol>
<p>由 AttachDetachController 管理。它不断地检查每⼀个 Pod 对应的 PV，和 这个 Pod 所在宿主机之间挂载情况。从⽽决定，是否需要对这个 PV 进⾏ Attach（或者 Dettach）操作。<br>作为⼀个 Kubernetes 内置的控制器，Volume Controller ⾃然是 kube-controller-manager 的⼀部分。所以，AttachDetachController 也⼀定是<strong>运⾏在 Master 节点上</strong>的。当然，Attach 操作只需要调⽤公有云或者具体存储项⽬的 API，并不需要在具体的宿主机上执⾏操作。</p>
<ol start="2">
<li>Mount<ol>
<li>格式化存储设备</li>
<li>绑定挂载到 Pod 中</li>
</ol>
</li>
</ol>
<p>由 VolumeManagerReconciler 管理。它必须发⽣在 Pod 对应的宿主机上，所以必须是 kubelet 组件的⼀部分。它运⾏起来之后，是⼀个独⽴于 kubelet 主循环的 Goroutine（不堵塞 kubelet 主控循环）。</p>
<h2 id="PV-管理方式"><a href="#PV-管理方式" class="headerlink" title="PV 管理方式"></a>PV 管理方式</h2><ul>
<li>Static Provisioning</li>
</ul>
<p>创建 PVC 之后，由运维人员手动创建 PV 的方式</p>
<ul>
<li>Dynamic Provisioning</li>
</ul>
<p>创建 PVC 时指定 StorageClass，由 StorageClass 中指定的 provisioner 来创建对应的 PV。</p>
<h2 id="StorageClass"><a href="#StorageClass" class="headerlink" title="StorageClass"></a>StorageClass</h2><p>当 PVC 中指定的 StorageClass 存在时，调用对应的 provisioner 来创建 PV；否则去匹配带有相同 StorageClass 的 PV。<br>如果 PVC 中未指定 StorageClass，当集群已经开启了名叫 DefaultStorageClass 的 Admission Plugin时，它就会为 PVC 和 PV ⾃动添加⼀个默认的 StorageClass；否则，PVC 的 storageClassName 的值就是“”，这也意味着它只能够跟 storageClassName 也是“”的 PV 进⾏绑定。</p>
<h2 id="本地持久化卷的实现"><a href="#本地持久化卷的实现" class="headerlink" title="本地持久化卷的实现"></a>本地持久化卷的实现</h2><p>延迟绑定：当使用本地存储后，需要延迟 PV 与 PVC 之间的绑定时机到 Pod 调度时，避免出现 PV 与 Pod 不在同一节点上面的问题。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">StorageClass</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">storage.k8s.io/v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">local-storage</span></span><br><span class="line"><span class="attr">provisioner:</span> <span class="string">kubernetes.io/no-provisioner</span></span><br><span class="line"><span class="attr">volumeBindingMode:</span> <span class="string">WaitForFirstConsumer</span></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:37:39.744Z" title="6/12/2023, 2:37:39 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:37:39.744Z" title="6/12/2023, 2:37:39 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span> / </span><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="level-item">1 分钟读完 (大约185个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/9a01df16fccc.html">Windows连接L2TP/IPSec的VPN</a></h1><div class="content"><p>Windows系统默认不支持连接在防火墙NAT后的L2TP/IPSec协议VPN，但是可以通过修改注册表解决。</p>
<p>修改方法如下：</p>
<ol>
<li>定位注册表 ：<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\PolicyAgent</code></li>
<li>新建DWORD (32位)值，名称：<code>AssumeUDPEncapsulationContextOnSendRule</code></li>
<li>值填 <code>2</code></li>
<li>重启系统</li>
</ol>
<hr>
<p>In order to disable IPSec on Windows 7/Vista</p>
<ol>
<li>Click Start, then in search box type: run ENTER</li>
<li>In the Run dialog type: <code>regedit</code> ENTER</li>
<li>In Registry Editor: Locate and then click the following registry subkey: <code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Rasman\Parameters</code></li>
<li>On the Edit menu, click <code>New&gt;DWORD</code></li>
<li>As the name of the new key enter: <code>ProhibitIpSec</code></li>
<li>Double click the key to edit the value.</li>
<li>In the Value data field, enter: <code>1</code></li>
<li>Quit Registry Editor, and then <code>restart the computer</code>.</li>
</ol>
<hr>
<p>当VPN启动后，还需要修改两项与路由相关的配置<br><img src="/images/pics/Bg0znK.jpg"><br><img src="/images/pics/LZyxqo.jpg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:29:06.728Z" title="6/12/2023, 2:29:06 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:38:06.835Z" title="6/12/2023, 2:38:06 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span> / </span><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="level-item">3 分钟读完 (大约463个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/29f9e7aa4913.html">Windows初始化时安装应用的脚本</a></h1><div class="content">挂载磁盘到wslwsl --mount \. HYSICALDRIVE0 --partition 1初始化安装软件@echo off@REM 安装chocoSet-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServiceP</div><a class="article-more button is-small is-size-7" href="/2023/06/12/29f9e7aa4913.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-12T06:21:03.610Z" title="6/12/2023, 2:21:03 PM">2023-06-12</time>发表</span><span class="level-item"><time dateTime="2023-06-12T06:22:17.053Z" title="6/12/2023, 2:22:17 PM">2023-06-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">4 分钟读完 (大约580个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/12/d41521e88108.html">初始化Linux系统</a></h1><div class="content">multipass 安装虚拟机命令multipass launch --mem=2G --disk=20G --cpus=2 --name=master jammymultipass launch --mem=2G --disk=20G --cpus=2 --name=work-1 jammymul</div><a class="article-more button is-small is-size-7" href="/2023/06/12/d41521e88108.html#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-02-27T12:49:01.934Z" title="2/27/2023, 8:49:01 PM">2023-02-27</time>发表</span><span class="level-item"><time dateTime="2023-02-27T15:38:50.853Z" title="2/27/2023, 11:38:50 PM">2023-02-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Kubernetes/">Kubernetes</a></span><span class="level-item">10 分钟读完 (大约1462个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/02/27/acd4740af8a6.html">解决自研CSI启动后无法使用且CSINode无驱动信息的问题</a></h1><div class="content">环境信息此处对一些信息做了模糊处理，不想因此导致一些信息泄露。A环境：跑在kata容器中的 OS；B环境：跑在虚拟机中的Ubuntu系统；X CSI：开发中的 CSI，目标是跑在 A 环境的 Kubernetes 中。问题描述当 X CSI 的服务在 A 环境中启动后，在宿主机的 /var/lib/</div><a class="article-more button is-small is-size-7" href="/2023/02/27/acd4740af8a6.html#more">阅读更多</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">上一页</a></div><div class="pagination-next"><a href="/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/26/">26</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/12/"><span class="level-start"><span class="level-item">十二月 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">二月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">一月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">七月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">六月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">五月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">四月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">三月 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">八月 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">四月 2018</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">三月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">一月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/249b2dc63505.html"><img src="/images/pics/5300c911560a8d2e0d745dcaf025d22f.jpg" alt="M系列MacBook连接l2tp时失败的问题修复"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/249b2dc63505.html">M系列MacBook连接l2tp时失败的问题修复</a></p><p class="categories"><a href="/categories/macOS/">macOS</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/e9036e8500f6.html"><img src="/images/thumbnails/rust-lang.png" alt="Rust学习笔记"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/e9036e8500f6.html">Rust学习笔记</a></p><p class="categories"><a href="/categories/Rust/">Rust</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/4948e86c1262.html"><img src="/images/pics/DrRvr9.jpg" alt="Calico证书学习笔记"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/4948e86c1262.html">Calico证书学习笔记</a></p><p class="categories"><a href="/categories/Kubernetes/">Kubernetes</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/6dae87e31dc3.html"><img src="/images/pics/e9f22d889a230bfda8e24c0a981740a8.png" alt="如何在YAML文件中进行优雅地换行"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/6dae87e31dc3.html">如何在YAML文件中进行优雅地换行</a></p><p class="categories"><a href="/categories/Golang/">Golang</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2024/12/09/25470f32f4bb.html"><img src="/images/pics/kubernetes-cka-color.svg" alt="CKS证书学习资料汇编"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-12-08T16:00:00.000Z">2024-12-09</time></p><p class="title"><a href="/2024/12/09/25470f32f4bb.html">CKS证书学习资料汇编</a></p><p class="categories"><a href="/categories/Kubernetes/">Kubernetes</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://crisfang.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Cris</span></span><span class="level-right"><span class="level-item tag">crisfang.com</span></span></a></li><li><a class="level is-mobile" href="https://sanyuesha.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">三月沙</span></span><span class="level-right"><span class="level-item tag">sanyuesha.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/pics/d261cdb6203e0da42ae1324dd3aae11f.png" alt="遇寻笔记" height="28"></a><p class="is-size-7"><span>&copy; 2024 遇寻</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="To Find Me" href="https://github.com/eucham"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/eucham"><i class="fab fa-linkedin"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>